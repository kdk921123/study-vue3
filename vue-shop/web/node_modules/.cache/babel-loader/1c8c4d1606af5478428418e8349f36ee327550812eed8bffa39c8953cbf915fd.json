{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      product: {\n        product_name: \"\",\n        product_price: 0,\n        delivery_price: 0,\n        add_delivery_price: 0,\n        product_tags: \"\",\n        outbound_days: 0,\n        seller_id: 1,\n        category_id: 1\n      },\n      categoryList: [],\n      category1: [],\n      category2: [],\n      category3: [],\n      cate1: \"\",\n      cate2: \"\",\n      cate3: \"\"\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    }\n  },\n  created() {\n    this.getCategoryList();\n  },\n  mounted() {\n    if (this.user.email == undefined) {\n      this.$router.push({\n        path: '/'\n      });\n    }\n  },\n  methods: {\n    goToList() {\n      this.$router.push({\n        path: '/sales'\n      });\n    },\n    async getCategoryList() {\n      let categoryList = await this.$api(\"/api/categoryList\", {});\n      this.categoryList = categoryList;\n      let oCategory = {};\n      categoryList.forEach(item => {\n        oCategory[item.category1] = item.id;\n      });\n      let category1 = [];\n      for (let key in oCategory) {\n        category1.push(key);\n      }\n      this.category1 = category1;\n      let category2 = [];\n      category2 = categoryList.filter(c => {\n        return c.category1 == category1[0];\n      });\n      let oCategory2 = {};\n      category2.forEach(item => {\n        oCategory2[item.category2] = item.id;\n      });\n      category2 = [];\n      for (let key in oCategory2) {\n        category2.push(key);\n      }\n      this.category2 = category2;\n\n      // console.log(category2);\n    },\n\n    changeCategory1() {\n      // this.cate1\n      this.category3 = [];\n      let categoryList = this.categoryList.filter(c => {\n        return c.category1 == this.cate1;\n      });\n      let oCategory2 = {};\n      categoryList.forEach(item => {\n        oCategory2[item.category2] = item.id;\n      });\n      let category2 = [];\n      for (let key in oCategory2) {\n        category2.push(key);\n      }\n      this.category2 = category2;\n    },\n    changeCategory2() {\n      let categoryList = this.categoryList.filter(c => {\n        return c.category1 == this.cate1 && c.category2 == this.cate2;\n      });\n      let oCategory3 = {};\n      categoryList.forEach(item => {\n        oCategory3[item.category3] = item.id;\n      });\n      let category3 = [];\n      for (let key in oCategory3) {\n        category3.push(key);\n      }\n      this.category3 = category3;\n    },\n    async productInsert() {\n      if (this.product.product_name == \"\") {\n        return this.$swal(\"제품명은 필수 입력값입니다.\");\n      }\n      if (this.product.product_price == \"\" || this.product.product_price == 0) {\n        return this.$swal(\"제품 가격을 입력하세요.\");\n      }\n      if (this.product.delivery_price == \"\" || this.product.delivery_price == 0) {\n        return this.$swal(\"배송료를 입력하세요.\");\n      }\n      if (this.product.outbound_days == \"\" || this.product.outbound_days == 0) {\n        return this.$swal(\"출고일을 입력하세요.\");\n      }\n      this.product.category_id = this.categoryList.filter(c => {\n        return c.category1 == this.cate1 && c.category2 == this.cate2 && c.category3 == this.cate3;\n      })[0].id;\n      await this.$api(\"/api/productInsert\", {\n        param: [this.product]\n      });\n      this.$router.push({\n        path: '/sales'\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","product","product_name","product_price","delivery_price","add_delivery_price","product_tags","outbound_days","seller_id","category_id","categoryList","category1","category2","category3","cate1","cate2","cate3","computed","user","$store","state","created","getCategoryList","mounted","email","undefined","$router","push","path","methods","goToList","$api","oCategory","forEach","item","id","key","filter","c","oCategory2","changeCategory1","changeCategory2","oCategory3","productInsert","$swal","param"],"sources":["C:\\workspace\\vue3\\study-vue3\\vue-shop\\web\\src\\views\\ProductCreate.vue"],"sourcesContent":["<template>\r\n      <main>\r\n        <div class=\"container mt-4\">\r\n          <h2 class=\"text-center\">제품 등록</h2>\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col-8\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">제품명</span>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"product.product_name\" aria-label=\"Username\" aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col-8\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">가격</span>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"product.product_price\" aria-label=\"Username\" aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">전자제품</span>\r\n                <select class=\"form-select\"  v-model=\"cate2\" @change=\"changeCategory1\">\r\n                  <option :value=\"cate\" :key=\"i\" v-for=\"(cate, i) in category1\">{{cate}}</option>\r\n              </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">컴퓨터</span>\r\n                <select class=\"form-select\" v-model=\"cate2\" @change=\"changeCategory2\">\r\n                  <option :value=\"cate\" :key=\"i\" v-for=\"(cate, i) in category2\">{{cate}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">악세사리</span>\r\n                <select class=\"form-select\" v-model=\"cate2\" @change=\"changeCategory3\">\r\n                  <option :value=\"cate\" :key=\"i\" v-for=\"(cate, i) in category3\">{{cate}}</option>\r\n              </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">배송비</span>\r\n                <input type=\"text\" v-model=\"product.delivery_price\" class=\"form-control\"  aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">추가 배송비</span>\r\n                <input type=\"text\"  v-model=\"product.add_delivery_price\" class=\"form-control\" aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">출고일</span>\r\n                <input type=\"text\"  v-model=\"product.outbound_days\" class=\"form-control\"  aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mt-5\">\r\n            <div class=\"col-8\">\r\n              <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" id=\"basic-addon1\">태그</span>\r\n                <input type=\"text\" v-model=\"product.product_tags\" class=\"form-control\"   aria-describedby=\"basic-addon1\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"btn pt-2\">\r\n            <button type=\"button\" class=\"btn btn-secondary\">등록</button>\r\n            <button type=\"button\" class=\"btn btn-dark\" @click=\"goTo\">취소</button>\r\n          </div>\r\n        </div>\r\n\r\n      </main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      product: {\r\n        product_name : \"\",\r\n        product_price: 0,\r\n        delivery_price: 0, \r\n        add_delivery_price: 0,\r\n        product_tags: \"\",\r\n        outbound_days: 0,\r\n        seller_id: 1,\r\n        category_id: 1\r\n      },\r\n      categoryList: [],\r\n      category1: [],\r\n      category2: [],\r\n      category3: [],\r\n      cate1: \"\",\r\n      cate2: \"\",\r\n      cate3: \"\"\r\n    }\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.state.user;\r\n    }\r\n  },\r\n  created() {\r\n    this.getCategoryList();\r\n\r\n  },\r\n  mounted() {\r\n    if(this.user.email == undefined) {\r\n      this.$router.push({path:'/'})\r\n    }\r\n  },\r\n  methods: {\r\n    goToList(){\r\n      this.$router.push({path:'/sales'}); \r\n    },\r\n    async getCategoryList(){\r\n      let categoryList = await this.$api(\"/api/categoryList\",{});\r\n      this.categoryList = categoryList;\r\n      \r\n      let oCategory = {};\r\n      categoryList.forEach(item => {\r\n        oCategory[item.category1] = item.id;\r\n      });\r\n\r\n      let category1 = [];\r\n      for(let key in oCategory) {\r\n        category1.push(key);\r\n      }\r\n\r\n      this.category1 = category1;\r\n\r\n      let category2 = [];\r\n      category2 = categoryList.filter(c => {\r\n        return c.category1 == category1[0];\r\n      });\r\n\r\n      let oCategory2 = {};\r\n      category2.forEach(item => {\r\n        oCategory2[item.category2] = item.id;\r\n      });\r\n\r\n      category2 = [];\r\n      for(let key in oCategory2) {\r\n        category2.push(key);\r\n      }\r\n\r\n      this.category2 = category2;\r\n\r\n      // console.log(category2);\r\n\r\n    },\r\n    changeCategory1(){\r\n      // this.cate1\r\n      this.category3 = [];\r\n      let categoryList = this.categoryList.filter(c => {\r\n        return c.category1 == this.cate1;\r\n      });\r\n\r\n      let oCategory2 = {};\r\n      categoryList.forEach(item => {\r\n        oCategory2[item.category2] = item.id;\r\n      });\r\n\r\n      let category2 = [];\r\n      for(let key in oCategory2) {\r\n        category2.push(key);\r\n      }\r\n\r\n      this.category2 = category2;\r\n    },\r\n    changeCategory2(){\r\n      let categoryList = this.categoryList.filter(c => {\r\n        return (c.category1 == this.cate1 && c.category2 == this.cate2);\r\n      });\r\n\r\n      let oCategory3 = {};\r\n      categoryList.forEach(item => {\r\n        oCategory3[item.category3] = item.id;\r\n      });\r\n\r\n      let category3 = [];\r\n      for(let key in oCategory3) {\r\n        category3.push(key);\r\n      }\r\n\r\n      this.category3 = category3;\r\n    },\r\n    async productInsert() {\r\n      if(this.product.product_name == \"\") {\r\n        return this.$swal(\"제품명은 필수 입력값입니다.\");\r\n      }\r\n\r\n      if(this.product.product_price == \"\" || this.product.product_price == 0) {\r\n        return this.$swal(\"제품 가격을 입력하세요.\");\r\n      }\r\n\r\n      if(this.product.delivery_price == \"\" || this.product.delivery_price == 0) {\r\n        return this.$swal(\"배송료를 입력하세요.\");\r\n      }\r\n\r\n      if(this.product.outbound_days == \"\" || this.product.outbound_days == 0) {\r\n        return this.$swal(\"출고일을 입력하세요.\");\r\n      }\r\n\r\n      this.product.category_id = this.categoryList.filter(c => {\r\n        return (c.category1 == this.cate1 && c.category2 == this.cate2 && c.category3 == this.cate3);\r\n      })[0].id;\r\n\r\n      await this.$api(\"/api/productInsert\",{param:[this.product]});\r\n      this.$router.push({path:'/sales'});\r\n        \r\n\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}